{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\espar\\\\Documents\\\\Programming\\\\coffeeshop\\\\src\\\\contexts\\\\products-context.js\",\n  _s = $RefreshSig$();\nimport { createContext, useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CartContext = /*#__PURE__*/createContext();\nexport const CartProvider = ({\n  children\n}) => {\n  _s();\n  const [cartItems, SetCarItems] = useState(() => {\n    try {\n      const productsInLocalStorage = localStorage.getItem('cartProducts');\n      return productsInLocalStorage ? JSON.parse(productsInLocalStorage) : [];\n    } catch (error) {\n      return [];\n    }\n  });\n  useEffect(() => {\n    localStorage.setItem('cartProducts', JSON.stringify(cartItems));\n    console.log(cartItems);\n  }, [cartItems]);\n  const addItemToCart = product => {\n    const inCart = cartItems.find(productInCart => productInCart.id === product.id);\n    if (inCart) {\n      SetCarItems(carItems.map(productInCart => {\n        if (productInCart.id === product.id) {\n          return {\n            ...inCart,\n            amount: inCart.amount + 1\n          };\n        } else return productInCart;\n      }));\n    } else {\n      SetCarItems([...carItems, {\n        ...product,\n        amount: 1\n      }]);\n    }\n  };\n  const deleteItemToCart = product => {\n    const inCart = carItems.find(productInCart => productInCart.id === product.id);\n    if (inCart.amount === 1) {\n      SetCarItems(carItems.filter(productInCart => productInCart.id !== product.id));\n    } else {\n      SetCarItems.map(productInCart => {\n        if (productInCart.id === product.id) {\n          return {\n            ...inCart,\n            amount: inCart.amount - 1\n          };\n        } else return productInCart;\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: {\n      carItems,\n      addItemToCart,\n      deleteItemToCart\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 13\n  }, this);\n};\n_s(CartProvider, \"ZajxSBrn9yTmL/0ck3pIl0q8tGg=\");\n_c = CartProvider;\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["createContext","useEffect","useState","jsxDEV","_jsxDEV","CartContext","CartProvider","children","_s","cartItems","SetCarItems","productsInLocalStorage","localStorage","getItem","JSON","parse","error","setItem","stringify","console","log","addItemToCart","product","inCart","find","productInCart","id","carItems","map","amount","deleteItemToCart","filter","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/espar/Documents/Programming/coffeeshop/src/contexts/products-context.js"],"sourcesContent":["\r\nimport { createContext, useEffect, useState } from \"react\";\r\n\r\nexport const CartContext = createContext();\r\n\r\nexport const CartProvider = ({children}) => {\r\n    const [cartItems, SetCarItems] = useState(() => {\r\n        try{\r\n            const productsInLocalStorage = localStorage.getItem('cartProducts');\r\n            return productsInLocalStorage ? JSON.parse(productsInLocalStorage) : [];\r\n        }catch(error){\r\n            return [];\r\n        }\r\n    });\r\n\r\n    useEffect(() => {\r\n        localStorage.setItem('cartProducts', JSON.stringify(cartItems));\r\n        console.log(cartItems);\r\n    }, [cartItems]);\r\n\r\n    const addItemToCart = (product) => {\r\n        const inCart = cartItems.find((productInCart) => productInCart.id === product.id);\r\n\r\n        if(inCart){\r\n            SetCarItems(\r\n                carItems.map((productInCart) => {\r\n                    if(productInCart.id === product.id){\r\n                        return{...inCart, amount: inCart.amount + 1}\r\n                    }else return productInCart\r\n                })\r\n            );   \r\n        } else{\r\n            SetCarItems([...carItems, {...product, amount: 1}])\r\n        }}\r\n\r\n        const deleteItemToCart = (product) => {\r\n            const inCart = carItems.find(\r\n                (productInCart) => productInCart.id === product.id\r\n            );\r\n            if(inCart.amount === 1){\r\n                SetCarItems(\r\n                    carItems.filter(productInCart => productInCart.id !== product.id)\r\n                );\r\n            }else {\r\n            SetCarItems.map(((productInCart) => {\r\n                if(productInCart.id === product.id){\r\n                    return{...inCart, amount: inCart.amount - 1};\r\n                }else return productInCart;\r\n                }));\r\n            }\r\n        };\r\n\r\n        return(\r\n            <CartContext.Provider value={{carItems, addItemToCart, deleteItemToCart}}>\r\n                {children}\r\n            </CartContext.Provider>\r\n        );\r\n    };"],"mappings":";;AACA,SAASA,aAAa,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3D,OAAO,MAAMC,WAAW,gBAAGL,aAAa,CAAC,CAAC;AAE1C,OAAO,MAAMM,YAAY,GAAGA,CAAC;EAACC;AAAQ,CAAC,KAAK;EAAAC,EAAA;EACxC,MAAM,CAACC,SAAS,EAAEC,WAAW,CAAC,GAAGR,QAAQ,CAAC,MAAM;IAC5C,IAAG;MACC,MAAMS,sBAAsB,GAAGC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC;MACnE,OAAOF,sBAAsB,GAAGG,IAAI,CAACC,KAAK,CAACJ,sBAAsB,CAAC,GAAG,EAAE;IAC3E,CAAC,QAAMK,KAAK,EAAC;MACT,OAAO,EAAE;IACb;EACJ,CAAC,CAAC;EAEFf,SAAS,CAAC,MAAM;IACZW,YAAY,CAACK,OAAO,CAAC,cAAc,EAAEH,IAAI,CAACI,SAAS,CAACT,SAAS,CAAC,CAAC;IAC/DU,OAAO,CAACC,GAAG,CAACX,SAAS,CAAC;EAC1B,CAAC,EAAE,CAACA,SAAS,CAAC,CAAC;EAEf,MAAMY,aAAa,GAAIC,OAAO,IAAK;IAC/B,MAAMC,MAAM,GAAGd,SAAS,CAACe,IAAI,CAAEC,aAAa,IAAKA,aAAa,CAACC,EAAE,KAAKJ,OAAO,CAACI,EAAE,CAAC;IAEjF,IAAGH,MAAM,EAAC;MACNb,WAAW,CACPiB,QAAQ,CAACC,GAAG,CAAEH,aAAa,IAAK;QAC5B,IAAGA,aAAa,CAACC,EAAE,KAAKJ,OAAO,CAACI,EAAE,EAAC;UAC/B,OAAM;YAAC,GAAGH,MAAM;YAAEM,MAAM,EAAEN,MAAM,CAACM,MAAM,GAAG;UAAC,CAAC;QAChD,CAAC,MAAK,OAAOJ,aAAa;MAC9B,CAAC,CACL,CAAC;IACL,CAAC,MAAK;MACFf,WAAW,CAAC,CAAC,GAAGiB,QAAQ,EAAE;QAAC,GAAGL,OAAO;QAAEO,MAAM,EAAE;MAAC,CAAC,CAAC,CAAC;IACvD;EAAC,CAAC;EAEF,MAAMC,gBAAgB,GAAIR,OAAO,IAAK;IAClC,MAAMC,MAAM,GAAGI,QAAQ,CAACH,IAAI,CACvBC,aAAa,IAAKA,aAAa,CAACC,EAAE,KAAKJ,OAAO,CAACI,EACpD,CAAC;IACD,IAAGH,MAAM,CAACM,MAAM,KAAK,CAAC,EAAC;MACnBnB,WAAW,CACPiB,QAAQ,CAACI,MAAM,CAACN,aAAa,IAAIA,aAAa,CAACC,EAAE,KAAKJ,OAAO,CAACI,EAAE,CACpE,CAAC;IACL,CAAC,MAAK;MACNhB,WAAW,CAACkB,GAAG,CAAGH,aAAa,IAAK;QAChC,IAAGA,aAAa,CAACC,EAAE,KAAKJ,OAAO,CAACI,EAAE,EAAC;UAC/B,OAAM;YAAC,GAAGH,MAAM;YAAEM,MAAM,EAAEN,MAAM,CAACM,MAAM,GAAG;UAAC,CAAC;QAChD,CAAC,MAAK,OAAOJ,aAAa;MAC1B,CAAE,CAAC;IACP;EACJ,CAAC;EAED,oBACIrB,OAAA,CAACC,WAAW,CAAC2B,QAAQ;IAACC,KAAK,EAAE;MAACN,QAAQ;MAAEN,aAAa;MAAES;IAAgB,CAAE;IAAAvB,QAAA,EACpEA;EAAQ;IAAA2B,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACS,CAAC;AAE/B,CAAC;AAAC7B,EAAA,CApDOF,YAAY;AAAAgC,EAAA,GAAZhC,YAAY;AAAA,IAAAgC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}